package com.roguegame;

import com.roguegame.elements.Dungeon;
import com.roguegame.elements.Player;

public class Game {
    private Dungeon[] floors;
    private int currentFloor;
    private Player player;

    public Game() {
        floors = new Dungeon[6]; // 6 floors (0 to 5)

        floors[0] = new Dungeon(new String[]{
                "#######",
                "#.....#",
                "#..@..#", 
                "#.....#",
                "###.###",
                "#.....#",
                "#.....#",
                "###^###"
        });

        floors[1] = new Dungeon(new String[]{
                "########################",
                "#.#..######### ######..#",
                "#.#..#......#...##.....#",
                "#....#..##.....#.#^....#", // Fixed inconsistent row length
                "###..#......#...##.....#",
                "#....#..#############..#",
                "#..###.................#",
                "#..##################..#",
                "#..#.# ##.....#.#...#..#",
                "#....#..#.....#.#...#..#",
                "#.......#.....#.#...#..#",
                "#....#..###.###.##.##..#",
                "#......................#",
                "########################"
        });

        floors[2] = new Dungeon(new String[]{
                "####^###################",
                "#.#...#................#",
                "#.#...#..###########...#",
                "#.##.##..#...#######...#",
                "#.........#.........#..#",
                "#........#...#.....#...#",
                "#........#####..#####..#",
                "#........#......##..#..#",
                "#........#......##../..#",
                "#####  ###########..#..#",
                "####................#..#",
                "####................#..#",
                "########################"
        });

        floors[3] = new Dungeon(new String[]{
                "#########################",
                "##^##.....#........##^###",
                "#...#...... ............#",
                "#...#......#............#",
                "##.####/#############...#",
                "#...............#...#...#",
                "###.####..........#..#..#",
                "#.....##......#...#..#..#",
                "#.#.#.##........#####...#",
                "#......##........#...#..#",
                "#.#.#.#####..####.......#",
                "#.....##.......#...#....#",
                "#########################"
        });

        floors[4] = new Dungeon(new String[]{
                "###################################",
                "#.................................#",
                "#.####..###...#######...###..####.#",
                "#.#.............................#.#",
                "#.#.####..#######.#######..####.#.#",
                "#...#.....#.............#.......#.#",
                "#...#.....#............#........#.#",
                "#.#.####..###############..####.#.#",
                "#.#.............................#.#",
                "#.####..###...#######...###..####.#",
                "#.................................#",
                "#################^#################"
        });

        floors[5] = new Dungeon(new String[]{
                "############################",
                "#..#.....# #^#...........# #",
                "#..#..#..#.#.#..######.....#",
                "#.....#....#/#.............#",
                "#..#..######.####..#####...#",
                "##.#....#.......#..#.......#",
                "#..###..#..###........##...#",
                "#..#....#..#.#..#..........#",
                "#..#....#.......############",
                "#####  #######.##.....#....#",
                "#.......#...#...#...###....#",
                "#..........................#",
                "#......#...#...#.....#.....#",
                "############################"
        });

        currentFloor = 0;
        player = new Player(floors[currentFloor].getStartX(), floors[currentFloor].getStartY());
    }

    public Dungeon getCurrentDungeon() {
        return floors[currentFloor];
    }

    public Player getPlayer() {
        return player;
    }

    public void moveToNextFloor() {
        if (currentFloor < floors.length - 1) {
            currentFloor++;
            player.setPosition(floors[currentFloor].getStartX(), floors[currentFloor].getStartY());
            System.out.println("Now on Floor: " + currentFloor);
        }
    }
    
    public void moveToPreviousFloor() {
        if (currentFloor > 0) {
            currentFloor--;
            player.setPosition(floors[currentFloor].getStartX(), floors[currentFloor].getStartY());
            System.out.println("Now on Floor: " + currentFloor);
        }
    }
    
}
